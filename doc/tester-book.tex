% PREAMBLE

\documentclass[titlepage]{article}

\usepackage{fullpage}

\usepackage{parskip}

\usepackage[bottom]{footmisc}

\usepackage
	[
		colorlinks = true,
		linkcolor = blue,
		urlcolor  = blue,
		citecolor = blue,
		anchorcolor = blue
	]
{hyperref}

\usepackage{listings}

\usepackage{amsfonts}

\title{The PhET Quality Assurance Handbook \\ Team Lead Edition}
\date{Last Updated: 2018-05-30}

% BODY

\begin{document}

\maketitle

\tableofcontents

\pagebreak

% SECTION 1: INTRODUCTION

\section{Introduction}

As the QA team lead, it is your job to test bugs for simulations, shepherd student workers, and perform a variety of miscellaneous tasks.

	\subsection{Devices}

We want our simulations to behave similarly on all devices. Therefore, we have many devices on which we test our simulations. The devices, their operating system(s), and their software are recorded in the \href{https://docs.google.com/spreadsheets/d/1XqnlW8DAlt2fZHDfDgkTMmMLpJZ1c0equBaPdkn2V08/edit#gid=0}{Asset Inventory}.

	\subsection{Operating Systems}

According to the \textit{New Oxford American Dictionary}, an operating system is ``the software that supports a computer's basic functions, such as scheduling tasks, executing applications, and controlling peripherals.'' The most common operating systems are Windows, macOS, and GNU/Linux. We usually test our simulations on Windows and macOS devices.

	\subsection{Web Browsers}

According to \href{https://en.wikipedia.org/wiki/Web_browser}{Wikipedia}, a web browser is ``a software application for retrieving, presenting and traversing information resources on the World Wide Web.'' The most common web browsers are Internet Explorer, Edge, Safari, Firefox, Opera, and Chrome. We usually test our simulations using Edge, Safari, Firefox, and Chrome.

	\subsection{Updates}

It is important that you update devices that need to be updated. (Some of our devices are meant to have outdated operating systems.) If an update for an operating system or an important piece of software is released, then you'll need to update the device or software. Think before you update something!

\pagebreak

% SECTION 2: COMMUNICATION & COORDINIZATION

\section{Communication \& Coordination}

As the QA team lead, you'll need to communicate and coordinate with developers, designers, student workers, and other PhET employees.

	\subsection{Slack}

Slack is messaging software that many workplaces use. It is important that you are on Slack every day. PhET employees may wish to communicate with you. It is your job to annoy developers with silly gifs. To do so, simply type \verb|/giphy <whatever you want a gif of>| into Slack.

	\subsection{Zoom}

Zoom is software that many workplaces use to make video calls and audio calls. You'll have to use Zoom periodically to communicate with PhET employees.

	\subsection{Google Drive}

\href{https://www.google.com/drive/}{Google Drive} is where PhET keeps its documents, spreadsheets, slideshows, etc. We try to grant edit access to as few people as possible to avoid any edit or deletion mishaps. You will be responsible for maintaining everything in the QA folder, including testing matrices. (For more information, see the \hyperref[subsec:matrix]{section on testing matrix management}.)

\pagebreak

% SECTION 3: GITHUB

\section{GitHub}

According to \href{https://en.wikipedia.org/wiki/GitHub}{Wikipedia}, GitHub is ``a web-based hosting service for version control using git.'' In plain English, it's a website that makes it easier for multiple developers to work on the same project at once. It's where we keep the code for our simulations. It's also where we document issues with the simulations. You'll need to become familiar with \href{https://github.com/phetsims}{GitHub} as it's where you'll spend the majority of your time.

	\subsection{Repositories}

A GitHub repository is like a folder where the code and issues for a specific simulation are kept. It's important that you familiarize yourself with each repository and its contents.

Some repositories contain code for things that aren't simulations. The following is a list of those repositories with brief descriptions:

		\begin{enumerate}
			\item a11y-research: Accessibility Research is dedicated to keeping track of accessibility research.
			\item aqua: Automated Quality Assurance (AQuA) holds code for continuous testing. PhETTest uses some code in aqua.
			\item assert: Assert holds code for handling assertions.
			\item axon: Axon is sort of like the nerve system. Axon holds code for things related to properties, e.g. the value of a speedometer.
			\item babel: Babel holds files of translated strings for HTML5 simulations.
			\item blast: Blast holds code for a simple simulation. This simulation only uses code from axon, joist, and scenery. Blast is used to diagnose issues.
			\item brand: Brand holds assets for each of the three brands. The brands are 1) PhET, 2) PhET-iO, and 3) Adapted from PhET.
			\item bumper: Bumper holds code for a simulation that is used to test deployment procedures.
			\item chains: Chains holds code for a simulation that is used to test string translation tools.
			\item chipper: Chipper holds code for tools used to develop and build simulations.
			\item dot: Dot is a mathematics library.
			\item example-sim: Example Simulation holds code for an example simulation. It is used to show interns and new employees how the simulations are structured.
			\item griddle: Griddle is a charting library.
			\item joist: Joist holds code for the ``framework'' of simulations, e.g. the splash screen, home screen, navigation bar, about dialog, etc.
			\item kite: Kite is a library for 2D shapes.
			\item mobius: Mobius is a library for 3D shapes.
			\item nitroglycerin: Nitroglycerin holds code for chemistry-related things.
			\item perennial: Perennial holds, among other things, build server code. It also holds utilities for doing the build.
			\item phet-core: PhET Core holds code for utilities used by all simulations.
			\item phet-info: PhET Information is mostly documentation.
			\item phetcommon: PhET Common contains general purpose common code.
			\item phetmarks: PhET Marks holds a simulation that contains code that developers use to bookmark URLs.
			\item phet-office-mix: PhET Office Mix holds Microsoft Office 365 things. Collaboration with Microsoft to make PhET simulations compatible Microsoft Office applications.
			\item query-string-machine: Query String Machine holds code that parses query parameters.
			\item rosetta: Rosetta holds code for the translation of HTML5 simulations.
			\item scenery-phet: Scenery PhET holds components based on Scenery that are specific to PhET simulations.
			\item scenery: Scenery is the scene graph library that is used to create all visual aspects of PhET simulations.
			\item sherpa: Sherpa holds third party libraries.
			\item shred: Shred holds code used in simulations with subatomic particles.
			\item simula-rasa: Simula Rasa holds code for a blank simulation.
			\item sun: Sun holds code for low level user interface components, e.g. buttons and sliders. It uses code from Scenery.
			\item tambo: Tambo holds code for sonification.
			\item tandem: Tandem holds code for supporting material for PhET-iO simulations. Used in conjunction with PhET-iO to enable access to model and user interface components of the simulation.
			\item tasks: Tasks is a list of tasks.
			\item twixt: Twixt is an animation library. 
			\item vegas: Vegas holds code for the components used in games.
			\item vibe: Vibe holds code for handling audio in simulations.
			\item webgl-ripples: WebGL Ripples holds code for 2D waves.
			\item website-meteor: Website Meteor holds code for the Meteor-React upgrade of the PhET website.
		\end{enumerate}

	\subsection{Issues}

Most of the issues you'll create on GitHub will be bug reports. Creating a bug report or general issue is easy. Here are the steps you need to follow:

		\begin{enumerate}
			\item Before you even think about creating a new issue, comb through existing issues to see if someone already created the issue. Search all repositories on GitHub for the issue.
			\item If someone has created a similar issue, then consider commenting on that issue instead of creating a new issue.
			\item Otherwise, go to the appropriate repository.
			\item Click on the ``Issues'' tab.
			\item Click on the ``New Issue'' button.
			\item If the issue is a bug report for a simulation, then use the formatting below.
			\item If the issue is a general issue, then simply describe the issue thoroughly and concisely.
			\item Assign the appropriate PhET employee(s) and use relevant labels.
			\item Click the ``Submit New Issue'' button.
		\end{enumerate}

		\begin{lstlisting}[frame=single, caption={Correct Bug Report Format}]
<b>Test Device</b>

blah

<b>Operating System</b>

blah

<b>Browser</b>

blah

<b>Problem Description</b>

blah

<b>Steps to Reproduce</b>

blah

<b>Visuals</b>

blah

<details>
<summary><b>Troubleshooting Information</b></summary>

blah

</details>
		\end{lstlisting}

		\begin{itemize}
			\item Delete sections you don't need.
			\item It is courteous to use screenshots or gifs in the ``Visuals'' section of the bug report. For Windows, \href{http://www.screentogif.com/}{ScreenToGif} is recommended. For macOS, \href{https://getkap.co/}{Kap} is recommended.
			\item The troubleshooting information\footnote{The troubleshooting information for a simulation is unique to that simulation.} for a simulation comes from the ``Report a Problem'' link in the simulation.
			\item If an issue is related to another issue, then add ``related to $\#xyz$'' to the issue, where $x,$ $y,$ and $z$ are natural numbers.
		\end{itemize}

The following is a list of labels and their descriptions:

		\begin{itemize}
			\item design:a11y - For issues with the design of accessibility-related features, e.g. keyboard navigation, sonification, etc.
			\item design:artwork - For issues with the design of artwork.
			\item design:general - For general design issues.
			\item design:phet-io - For issues with PhET-iO simulations.
			\item dev:a11y - For issues related to accessibility development.
			\item dev:enhancement - For issues related to development improvements.
			\item dev:phet-io - For PhET-iO development issues.
			\item dev:sonification - For issues related to sound.
			\item phet-io:event-stream - For issues related to event wrappers in PhET-iO simulations.
			\item phet-io:studio - For issues related to studio in PhET-iO branded sims.
			\item phet-io:record-and-playback - For issues relating to record and playback in PhET-iO simulations.
			\item phet-io:save-and-load - For issues related to state wrappers and launching from proxies in PhET-iO branded simulations.
			\item type:automated-testing - For automated testing issues.
			\item type:bug - For bugs.
			\item type:duplicate - For duplicate issues.
			\item type:i18n - For issues related to internalization.
			\item type:legacy-bug - For issues that also exist in Java or Flash sims.
			\item type:multitouch - For issues that require multiple inputs.
			\item type:performance - For performance issues, e.g. low frame rate, lag, etc.
			\item type:question - For questions.
		\end{itemize}

\pagebreak

% SECTION 4: TESTING

\section{Testing}

Testing is essential to quality assurance. As the QA team lead, it is your responsibility to break what the developers make. Be scrupulous.
	
	\subsection{Terminology}

It is important to familiarize yourself with the correct terminology for the various things you will encounter in a simulation. The words in quotation marks are the explanatory terms, and the words without quotation marks are the correct terms. (Some terms are intuitive while others are counterintuitive, hence the list.)

		\begin{itemize}
			\item ``tab'' $ = $ screen
			\item ``loading screen'' $ = $ splash screen
			\item ``picture of the simulation that directs you to the simulation when clicked'' $ = $ screen icon
			\item ``screen that loads after the splash screen and has screen icons'' $ = $ home screen
			\item ``screen icon that exists in the home screen'' $ = $ home screen icon
			\item ``bar that has screen icons'' $ = $ navigation bar
			\item ``screen icon that exists in the navigation bar'' $ = $ navigation bar icon\footnote{navigation bar icon $ \neq $ home screen icon}
			\item ``PhET logo that opens a menu when clicked'' $ = $ PhET menu
			\item ``box in which items that can be dragged and interacted with are stored'' $ = $ toolbox
			\item ``item that exists in a toolbox'' $ = $ tool
			\item ``button that resets everything in the simulation'' $ = $ reset all button
			\item ``button that resets some things in the simulation'' $ = $ reset button
			\item ``button in a browser that reloads the page'' $ = $ refresh button\footnote{refresh button $ \neq $ reset button $ \neq $ reset all button}
			\item ``button with a right pointing triangle'' $ = $ play button
			\item ``button with two bars'' $ = $ pause button
			\item  ``button with a bar and a right pointing triangle'' $ = $ step forward button
			\item ``button with a square'' $ = $ stop button
			\item ``boxed off area that contains information'' $ = $ panel
			\item ``red button with minus sign'' $ = $ collapse button
			\item ``green button with plus sign'' $ = $ expand button
			\item ``panel with a collapse and expand button'' $ = $ accordion panel
			\item ``circular button that can be blank or solid'' $ = $ radio button
			\item ``box in which a check mark can exist'' $ = $ checkbox
			\item ``bar with button that can be dragged up and down xor left and right'' $ = $ slider
			\item ``slider button'' $ = $ thumb
			\item ``pop-up information'' $ = $ dialogue
			\item ``X button in dialogue'' $ = $ close button
			\item ``drop down menu'' $ = $ combo box
			\item ``number adjuster that looks like a spinner'' $ = $ number picker
			\item ``number adjuster that looks like a picker'' $ = $ number spinner
			\item ``slightly different simulation within a screen'' $ = $ scene
			\item ``toolbox that has multiple pages'' $ = $ carousel
			\item ``different pages in carousel'' $ = $ pages
			\item ``dots that exist under a carousel'' = dots
			\item ``using the dots to navigate between pages'' $ = $ dot navigation
			\item ``clicking and holding'' $ = $ fire on hold
		\end{itemize}

	\subsection{Development Testing}

Development testing is whatever the developer wants it to be. Generally speaking, a development test entails making sure the simulation behaves as intended. The GitHub issue for a development test will specify what needs to be tested. There should be a link to the simulation in the issue, but if there isn't, then you can find it \href{https://phet-dev.colorado.edu/html/}{here}. Here are the steps you need to follow for a development test:

		\begin{enumerate}
			\item If the developer wants something tested on specific devices or browsers, then use the correct device and the correct browser.
			\item Familiarize yourself with the simulation.
			\item If the developer wants you to test previous issues, then test those first.
			\item Test screen bounds.
			\item Make sure you don't lose tools.
			\item Make sure the reset all button works properly.
			\item Do multitouch tests.
			\item Look for bugs.
			\item Try to break the simulation.
		\end{enumerate}

	\subsection{Release Candidate Testing}
	
Release candidate testing is more thorough than development testing because the simulation being tested is a ``release candidate.'' Theoretically, major issues with the simulation will have been fixed by the time it undergoes an RC test. In the issue for the RC test, you will find, among other things, the following: a link to the simulation, a link to an iFrame, and a link to a testing matrix. The link to the simulation can also be found \href{https://phet-dev.colorado.edu/html/}{here}. Testing the simulation in an iFrame is optional. The testing matrix is where we document what has been tested and by whom. Here are the steps you need to follow for a release candidate test:
	
		\begin{enumerate}
			\item Familiarize yourself with the simulation.
			\item If the developer wants you to test previous issues, then test those first.
			\item Open the testing matrix.
			\item Choose a device and browser combination that hasn't been tested.
			\item Perform the below tests and fill out the testing matrix accordingly.
		\end{enumerate}

\textbf{Full Screen Test}

To do the full screen test, do the following:

		\begin{enumerate}
			\item In the PhET menu, there is a ``Full Screen'' button. Press that button.
			\item Make sure the simulation goes into and out of full screen easily.
			\item Make sure the simulation does not change when the simulation goes into and out of full screen.
		\end{enumerate}

\textbf{Screenshot Test}

To do the screenshot test, do the following:

		\begin{enumerate}
			\item In the PhET menu, there is a ``Screenshot'' button. Press that button.
			\item Make sure the screenshot is exactly the same as the simulation\footnote{The resolution will be lower in the screenshot.}.
		\end{enumerate}

\textbf{Query Parameters Test}

To do the query parameters test, append the URL with the following query parameters:

		\begin{itemize}
			\item \verb|?dev|: shows borders
				\begin{itemize}
					\item This query parameter can be used to test whether things remain in bounds.
				\end{itemize}
			\item \verb|?showPointerAreas|: shows red touch area and blue mouse area
				\begin{itemize}
					\item Some things won't have a pointer area. This is normal.
					\item Sometimes pointer areas will look strange, e.g. extending beyond the borders of a carousel. This is normal.
					\item Make sure pointer areas do not overlap.
					\item This query parameter adversely affects the performance of the simulation.
				\end{itemize}
			\item \verb|?stringTest=double|: doubles strings
				\begin{itemize}
					\item Strings should scale down. Nothing should overlap.
					\item If there is an issue, then it is an internalization issue.
				\end{itemize}
			\item \verb|?stringTest=long|: makes strings \verb|12345678901234567890123456789012345678901234567890|
				\begin{itemize}
					\item The simulation does not have to pass this test!
					\item This query parameter might reveal issues that \verb|?stringTest=double| doesn't.
				\end{itemize}
			\item \verb|?stringTest=rtl|: makes strings Farsi
				\begin{itemize}
					\item Make sure everything looks good.
					\item Make sure everything functions normally.
				\end{itemize}
			\item \verb|?stringTest=X|: makes strings \verb|X|
			\item \verb|?stringTest=xss|: cross site scripting
				\begin{itemize}
					\item This query parameter puts JavaScript into every screen. This JavaScript should not be executed.
					\item If the simulation does not redirect to another website, then the simulation passes this test.
					\item If the simulation crashes or fails to load, then the simulation still passes this test.
				\end{itemize}
		\end{itemize}

It should be noted that multiple query parameters can be used at once. To do so, append the URL with the following \verb|queryParameter1&queryParameter2|. Use \href{https://en.wikipedia.org/wiki/Camel_case}{camelCase}.

\textbf{Legends of Learning Test}

To test a simulation in the Legends of Learning harness, do the following:

		\begin{enumerate}
			\item Go \href{https://developers.legendsoflearning.com/public-harness/index.html}{here}.
			\item Copy and paste the simulation's URL into ``Enter Game Source URL.''
			\item Append the URL with \verb|?legendsOfLearning|.
			\item Make sure you can pause the simulation.
			\item Make sure you can resume the simulation.
		\end{enumerate}

\textbf{HTML Download Test}

To perform the HTML download test, do the following:

		\begin{enumerate}
			\item On an iOS device, open the simulation and add it to your ``Reading List.''
			\item Disconnect from the internet.
			\item Open the simulation and make sure it behaves normally.
			\item On a device with Google Chrome installed, open the simulation, right click, and save the simulation.
			\item Disconnect from the internet.
			\item Open the simulation and make sure it behaves normally.
		\end{enumerate}

\textbf{iFrame Test}

To perform the iFrame test, simply click the link to the iFrame and make sure the simulation behaves normally.

	\subsection{PhET-iO Testing}

PhET-iO simulations are licensed versions of PhET simulations. PhET-iO simulations are not available to the general public. We charge customers for these simulations because they are highly customizable. When a customer pays for a PhET-iO simulation, they are provided with the password for the simulation as well as an application program interface (API) that they can use to customize the simulation. In the PhET-iO issue, there will be, among other things, a link to a root directory and a link to a testing matrix. The root directory contains all of the wrappers, i.e. environments, in which the simulation will be tested. The testing matrix is where we document what has been tested and by whom. There should be a link to the simulation in the issue, but if there isn't, then you can find it \href{https://phet-dev.colorado.edu/html/}{here}. Here are the steps you need to follow for a PhET-iO test:

		\begin{enumerate}
			\item Open a private tab.
			\item Click the link to the root directory.
			\item Enter the username and password.
			\item Familiarize yourself with the simulation.
			\item Open the testing matrix.
			\item Choose a device and browser combination that hasn't been tested.
			\item Perform the below tests and fill out the testing matrix accordingly.
		\end{enumerate}

Before reading about the various tests you'll perform on a PhET-iO simulation, it should be noted that PhET-iO testing can be daunting. It will help if you learn what a tandem ID is. You will no doubt encounter them. A tandem ID is an identifier for a particular behavior of the simulation. For example, you could encounter the following tandem ID while testing the studio wrapper.
\begin{verbatim}
faradaysLaw.faradaysLawScreen.model.magnet.positionProperty:
\end{verbatim}
The above tandem ID tells you the following: 1) the simulation is Faraday's Law, 2) the behavior the tandem ID refers to occurs in the Faraday's Law screen, 3) model indicates that something is being modeled according to some set of rules, 3) magnet indicates that the magnet is what is being modeled, and 4) positionProperty states the current position of the magnet. For a more comprehensive treatment of tandem IDs, read \href{https://docs.google.com/document/d/1Fr-B66SD-6Xt7egNv9ZeSXdcsK6k8Lkc0nqR853_eJ4/edit#heading=h.oz7vdnbiq4ni}{this}.

\textbf{Simulation Wrapper Test}

\textit{What?} This wrapper is the simulation.

\textit{How?} To test this wrapper, follow the steps for a development test or a release candidate test depending on what the issue specifies.

\textbf{Studio Wrapper Test}

\textit{What?} This wrapper is the simulation alongside a long list of instrumented characteristics. An instrumented characteristic is some aspect of the simulation that can be modified by a licensed owner of a PhET-iO simulation, e.g. a property. Not all characteristics of the simulation are instrumented so as to retain the functionality of the simulation.

\textit{How?} To test this wrapper, make sure instrumented characteristics can be modified and make sure characteristics that haven't been instrumented can't be modified. Also, do the following:

		\begin{enumerate}
			\item Periodically launch the simulation to make sure it works using the ``Launch'' button.
			\item Periodically copy and paste the HTML into a text editor, save the file, and open it in a browser to make sure the modifications you made are still there using the ``Generate HTML'' button.
		\end{enumerate}

\textbf{Events: Colorized Wrapper Test}

\textit{What?} This wrapper is the simulation, but when you open the console, you are able to view a colorized event stream.

\textit{How?} To test this wrapper, manipulate the simulation and make sure the events you see in the event stream match the manipulations.

\textbf{Events: JSON Wrapper Test}

\textit{What?} This wrapper is the simulation, but when you open the console, you are able to view the event stream in JavaScript object notation.

\textit{How?} To test this wrapper, manipulate the simulation and make sure the events you see in the event stream match the manipulations.

\textbf{Events: Text Area Wrapper Test}

\textit{What?} This wrapper is the simulation with the event stream below. There is a limit to the number of events that can be displayed below the simulation.

\textit{How?} To test this wrapper, manipulate the simulation and make sure the events you see in the event stream match the manipulations.

\textbf{Events: Recording Wrapper Test}

\textit{What?} This wrapper allows you to record your actions in the simulation.

\textit{How?} To test this wrapper, do the following:

		\begin{enumerate}
			\item In the URL, replace \verb|&console| with \verb|&localFile|. (If \verb|&console| doesn't exist, then you should still add \verb|&localFile|.)
			\item Record your actions in the simulation. (Remember what you did.)
			\item Open the console.
			\item Follow the directions in the console to download a copy of the recording.
			\item View the recording in the Events: Playback wrapper and make sure your actions were recorded accurately.
		\end{enumerate}

\textbf{State Wrapper Test}

\textit{What?} This is a wrapper that contains a simulation, a mirror of the simulation that is updated once every second, and a condensed list of instrumented characteristics.

\textit{How?} To test this wrapper, simply play with the simulation and make sure your actions are mirrored accurately.

\textbf{Mirror Inputs Wrapper Test}

\textit{What?} This is a wrapper that contains a simulation and a mirror of the simulation that is updated with every user input.

\textit{How?} To test this wrapper, make sure your actions are mirrored accurately. Spend plenty of time testing this wrapper.

\textbf{Screenshot Wrapper Test}

\textit{What?} This is a wrapper in which you can take a screenshot of the simulation.

\textit{How?} To test this wrapper, test screenshots as you normally would by pressing the ``Take Screenshot'' button in the wrapper, not the ``Screenshot'' button in the simulation.

\textbf{Active Wrapper Test}

\textit{What?} This is a wrapper that allows you to toggle between an active simulation and an inactive simulation.

\textit{How?} To test this wrapper, simply make sure you can interact with the simulation when it is active and cannot interact with the simulation when it is inactive. Animations should resume without ``jumping.''

	\subsection{Accessibility Testing}
	
One of PhET's goals is to make our simulations available to everyone. This, of course, includes people with disabilities. There are two features to unique to accessibility testing: keyboard navigation compatibility and screen reader compatibility. Keyboard navigation compatibility allows the user to play with the simulation using the keyboard, i.e. they don't have to use the mouse. Keyboard navigation can be tested on any device with a physical keyboard and in any browser. Screen reader compatibility allows the user to hear a description of what is happening in the simulation. Screen readers are tested using Firefox on Windows devices and using Safari on macOS devices. On Windows devices, we test the \href{https://www.nvaccess.org/}{NVDA} and \href{http://www.freedomscientific.com/Products/Blindness/JAWS}{JAWS} screen readers. On macOS devices, we test the VoiceOver screen reader, which is installed by default. To familiarize yourself with screen readers, please read \href{https://bayes.colorado.edu/dev/html/jg-tests/reader-intro.html}{this}. In an issue for a test of a simulation with accessibility feature(s) you will find, among other things, a link to the simulation, a link to an iFrame, perhaps a link to a testing matrix (if the test is an RC test), and a link to the a11y view. The a11y view, or accessibility view, is a page with the simulation on the left and the description of the simulation in plain text on the right. Below the simulation are real-time alerts that will be announced by the screen reader. There should be a link to the simulation in the issue, but if there isn't, then you can find it \href{https://phet-dev.colorado.edu/html/}{here}.

It should be noted that for keyboard navigation to work properly in Safari, you must make sure the following setting is true:

\verb|Safari > Preferences > Advanced > Press Tab to highlight each item on a webpage|

It should also be noted that on Macintosh devices, for Firefox to work properly, you must make sure the following setting is true:

\verb|System Preferences > Keyboard > Shortcuts > All controls|

To test the accessibility features of a simulation, follow the steps below:

		\begin{enumerate}
			\item Start the screen reader before you open a browser.
			\item Familiarize yourself with the simulation.
			\item If the developer wants you to test previous issues, then test those first.
			\item Perform the below tests.
		\end{enumerate}

\textbf{Keyboard Navigation Test}

To test keyboard navigation, make sure the keyboard navigation functions as described in the ``Keyboard Shortcuts'' dialogue.

\textbf{Screen Reader Test}

To test a screen reader, do the following:
		\begin{enumerate}
			\item Make sure the screen reader's description of the simulation matches the description in the a11y view. 
			\item Make sure the alerts you hear match the alerts in the a11y view.
		\end{enumerate}

	\subsection{Online Website Testing}

The developers may occasionally ask you to test various parts of the website. Typically, they will provide details. Theoretically, all of the steps you follow to test the offline website could be followed for the online website. (Obviously, some things would be different, as the website would be online instead of offline.) The \hyperref[subsec:wa]{section on website administration} may contain pertinent information.

	\subsection{Offline Website (Installer) Testing}

The The offline website installers are built every Sunday morning. Test the offline website every Monday. To test the offline website, follow the steps below:

		\begin{enumerate}
			\item Go \href{https://phet.colorado.edu/en/offline-access}{here}.
			\item Make sure the date on which the installer was built is correct, e.g. if you're testing the simulation on a Monday, and the installer builder was built on Sunday morning, then the date should be Monday's date minus one day.
			\item If this is not the case, then stop testing and inform the developer.
			\item Otherwise, make sure the file sizes aren't too large or too small. As of 2018-03-23, the installer without activities is approximately 370 MB and the installer with activities is approximately 1300 MB. If these numbers are drastically different, then stop testing and inform the developer.
		\end{enumerate}
		
The following should be noted:

		\begin{itemize}
			\item You should alternate between Windows and macOS on a weekly basis.
			\item You should alternate between browsers on a weekly basis.
			\item You should alternate between the installer without activities and the installer with activities on a weekly basis. That is, you should not test both in one week.
			\item If you download the installer with activities, then \verb|index.html| should exist in the \verb|PhET| folder and in the \verb|en| folder.
			\item If you download the installer without activities, then \verb|index.html| should exist in \verb|PhET| folder and not in the \verb|en| folder.
			\item If you are testing the website while disconnected from the internet, then the offline website should not be trying to connect to the internet. (There are some exceptions to this.)
			\item If you are testing the website while disconnected from the internet, then some buttons like the Google Classroom button might be missing from the offline website. This is normal.
			\item You should have one offline website for every month of the year.
			\item If you wish to be rid of an offline website, then delete it. Do not use the uninstaller.
		\end{itemize}
		
		\begin{enumerate}
			\item Download the installer builder. (This is why it's called installer testing.)
			\item Install the offline website.
			\item During installation, append the file name with \verb|_YYYY-MM-DD| (the \href{https://xkcd.com/1179/}{correct numeric date format}).
			\item Open the offline website every way you can. (On a Windows device, the installer will create a desktop shortcut and an application shortcut. This does not occur on Macintosh devices.)
			\item Make sure the update date on the offline website matches the update date on the online website.
			\item If this is not the case, then stop testing and inform the developer.
			\item Otherwise, disconnect from the internet and test applicable items in the below list. Then reconnect to the internet and test applicable items in the below list again.
		\end{enumerate}
		
		\begin{itemize}
			\item For all versions of the installer, make sure two HTML5 simulations open.
			\item For all versions of the installer, make sure two translated HTML5 simulations open.
			\item For all versions of the installer, make sure two Flash simulations open.
			\item For all versions of the installer, make sure two Java sims open.
			\item For all versions of the installer, make sure two translated Flash sims open.
			\item For all versions of the installer, make sure two translated Java sims open.
			\item For the installer without activities, make sure that activity links redirect you to the website if you are connected to the internet.
			\item For the installer with activities, make sure two activities open.
			\item For the installer with activities, make sure two translated activities open.
			\item For the installer with activities, make sure one teacher tip opens.
		\end{itemize}

You might encounter issues with Java simulations. If you are having issues with a \verb|.jlnp| file and the developer asks you to check the permissions of the file, then open the file with a text editor and check the permissions. If you are having issues with a \verb|.jar| file and the developer asks you to check the permissions, then use \verb|7-Zip > Open archive > META > MANIFEST > Check permissions| to check the permissions.

The following should be noted:

		\begin{itemize}
			\item You should only test one version of the installer per week.
			\item You should alternate between downloading the installer for Windows and the installer for macOS on a weekly basis.
			\item You should alternate between the installer without activities and the installer with activities on a weekly basis. That is, you should not test both in one week.
			\item You should alternate your testing between browsers on a weekly basis.
			\item If you are testing the website while disconnected from the internet, then the offline website should direct you to the internet. (There are some exceptions to this, e.g. if you click a link to an activity on an installer without activities, then you should be directed to the internet.)
			\item If you are testing the website while disconnected from the internet, then some buttons like the Google Classroom button might be missing from the offline website. This is normal.
			\item You should keep one offline website for every month of the year.
			\item If you have an installation of the offline website that you don't need, then delete it. Do not use the uninstaller.
		\end{itemize}

	\subsection{Automated Testing}

Open \href{https://bayes.colorado.edu/continuous-testing/aqua/html/continuous-report.html}{this} in a private\footnote{You should always use a private window when viewing automated testing results.} window. Read the description.

The name of the server that hosts the website for automated testing is called Bayes. Automated testing is commonly referred to as Continuous Testing (CT). When you load the website for automated testing, Bayes is always running tests on simulations in a headless browser, i.e. a browser without a page. Bayes will pick a simulation and a test randomly. Each test gets 40 seconds from start to finish. If the simulation takes 20 seconds to load, then it will only be tested for 20 seconds. If the simulation takes 1 second to load, then it will be tested for 39 seconds. Once every simulation has undergone every test, Bayes does more tests\footnote{The test number can increase because tests aren't counted until the simulation is built.} randomly.

If someone makes a commit, then Bayes detects the commit, pulls it, and takes a snapshot of the PhET codebase. This is not instantaneous. The creation of a snapshot takes approximately 15 minutes.

The numbers and colors of the cells are important:
		\begin{itemize}
			\item Let $ n $ be a natural number in one of the cells.
			\item If $ n = 100, $ then there are two cases:
				\begin{itemize}
					\item Case 1: The cell is dark green. This implies that the simulation passed all tests.
					\item Case 2: The cell is light green. This implies that the simulation has passed all tests thus far.
				\end{itemize}
			\item If $ 0 < n < 100, $ then some tests have failed.
				\begin{itemize}
					\item If this is the case, then the cell is some shade of orange.
				\end{itemize}
			\item If $ n = 0, $ then all tests have failed.
				\begin{itemize}
					\item If this is the case, then the cell is red.
				\end{itemize}
		\end{itemize}
The color of a named cell corresponds to the color of the cell that was tested most recently in that row.

If a cell is outlined, then there are results to see. Click on the cell to view the results. The following run unit tests. They will always have results. If they do not have results, then you should notify a developer.
		\begin{itemize}
			\item Axon
			\item All PhET-iO simulations
			\item Balloons and Static Electricity
			\item Circuit Construction Kit Common
			\item Dot
			\item Kite
			\item PhET Core
			\item PhET-iO
			\item PhET Common
			\item Query String Machine
			\item Scenery
			\item Tandem
		\end{itemize}

There are some common errors you should be aware of. If a simulation does not load in 40 seconds, then an error is given. If a window location changes, then an error is given. If this occurs frequently, then notify a developer. For other errors, make an issue in the appropriate repository with the type:automated-testing and type:bug labels. Lint errors can be easily fixed!

If Bayes restarts, then it takes the automated testing page a long time to show anything. Similarly, if someone tells Bayes to start or stop doing something, then it takes a long time for things to show up on the automated testing page. In this case, they will show up one at a time.

	\subsection{Memory Leak Testing}

Memory leak testing is sometimes performed on simulations that are undergoing a development test or a release candidate test. To do a memory leak test, follow these steps:

		\begin{enumerate}
			\item Open an ``Incognito Window'' Google Chrome.
			\item Open the development link or the RC link to find the simulation.
			\item Once you've found and loaded the simulation, open development tools to the ``Memory'' tab.
			\item Take a heap snapshot.
			\item Append the URL with \verb|?fuzzMouse|.
			\item Have a stopwatch ready for when you reload the simulation with the new query parameter, \verb|?fuzzMouse|.
			\item Reload the simulation.
			\item Once the simulation gets past the splash screen, start the stopwatch.
			\item Every minute, for 10 minutes, take a heap snapshot.
			\item While the simulation is paused and the heap snapshot is being taken, pause the stopwatch.
			\item Once the simulation resumes, press resume on the stopwatch.
			\item After you've taken 11 heap snapshots, start taking heap snapshots every 10 to 20 minutes.
			\item Stop taking heap snapshots when you feel you have collected sufficient data.
		\end{enumerate}

\pagebreak

% SECTION 6: TRANSLATIONS

\section{Translations}

One of PhET's goals is to make our simulations available to everyone in the world. It wouldn't be possible to do this without the help of volunteers who translate our simulations and the website.

	\subsection{Flash \& Java Simulation Translations}

We have lots of old simulations that use Adobe Flash Player or Java. People still use these translations, so they're still being translated. To translate a Flash or Java simulation, do the following\footnote{If something goes wrong at any point, the best course of action is to start over.}:

		\begin{enumerate}
			\item Log in to Gmail as phethelp@gmail.com on Hanson.
			\item Download all \verb|.xml| (Flash) and \verb|.properties| (Java) files.
			\item Move these files to the ``Translations'' folder. 
			\item Open \href{https://docs.google.com/spreadsheets/d/10co5pwJI6HaJq6RD7fX2xVm3Ks1WpYfXei9scnPGKxM/edit#gid=0}{this}.
			\item Enter relevant information into the spreadsheet.
			\item Open the Git shortcut on Hanson.
			\item Wait for it to load.
			\item Click the ``Translations'' tab.
			\item Click ``Deploy Simulation Translations.''
			\item Enter your IdentiKey username and password.
			\item Enter the path for the ``Translations'' folder.
			\item Commit the files that are not updated.
			\item Copy and paste the relevant information from the spreadsheet for each commit message.
			\item Click ``OK.''
			\item Wait for it to complete.
			\item Click OK.
			\item Copy the URL from the Git terminal and paste it into a browser.
			\item Wait for it to load.
			\item Test the English version and the translated version of each simulation. (Make sure the strings look normal.)
			\item If the strings look normal, then press the publish now button.
			\item Send an email to the translator with a link to the translation.
			\item Delete the contents of the ``Translations'' folder.
		\end{enumerate}

	\subsection{HTML5 Simulation Translations}

HTML5 simulation translations are submitted to the website by trusted translators. The new translation of the simulation is then automatically uploaded to the website.

Rosetta is the program we use to translate HTML5 simulations. A trusted translator logs in to the website, does all of his or her translations in the browser, and then he or she clicks submit. Rosetta then sends these string files to Babel. Babel then builds a new simulation with the new strings.

	\subsection{Website Translations}

Website translations are fairly simple. For each case\footnote{These cases will likely be changed in the future. The process for translating Flash and Java simulations may be changed in the future.} below, follow the relevant instructions.

\textbf{Case 1:}
The author of an existing translation submits an updated version of that translation.	
		\begin{enumerate}
			\item Go \href{https://phet.colorado.edu/}{here}.
			\item Sign in.
			\item Click the ``Administration'' link.
			\item Click the ``Translations'' link.
			\item Click the ``Update'' button for the correct translation, i.e. the simulation whose number matches the number in the email.
			\item Email the translator the following:
		\end{enumerate}

``Thank you for submitting your translation. I have updated our website.

Sincerely,

PhET Help''

\textbf{Case 2a:}
A translator creates a translation of a language we don't have published.

If this is the case, then we have to create a new public translation.

Email the translator the following:

``Dear translator,

I've noticed that you recently started a Divehi (dv) translation of our website and wanted to check in with you to see if you have any questions about the process.  Please let me know if you have any questions about how this works and of course please read the full instructions page prior to starting your translation:

http://phet.colorado.edu/en/for-translators/website

As I'm sure you've realized at this point translating the website is not a small task.  We estimate it will probably take about 50 - 100 hours to fully make a website translation.  Because of this, and because we will only provide one public translation per language, we encourage translators to collaborate on a translation for their language.  We want translators to work together to move any partial translations to one "master" translation as only one translation will go public.

Thank you for your efforts to make PhET sims available worldwide.

Sincerely,

PhET Help''

\textbf{Case 2b:}
A translator submits a translation of a language we don't have published.
		
		\begin{enumerate}
			\item Check to see how many translated strings the translation has.
			\item If the number of translated strings is greater than 1000, then make the translation visible by toggling.
			\item Otherwise, email the translator the following:
		\end{enumerate}

``Dear translator,

I've noticed that you recently started a Gujarati (gu) translation of our website and wanted to check in with you to see if you have any questions about the process.  Please let me know if you have any questions about how this works and of course please read the full instructions page:

http://phet.colorado.edu/en/for-translators/website

As I'm sure you've realized at this point translating the website is not a small task.  We estimate it will probably take about 50 - 100 hours to fully make a website translation.  Because of this, and because we will only provide one public translation per language, we encourage translators to collaborate on a translation for their language.  We want translators to work together to move any partial translations to one "master" translation as only one translation will go public.

Also, we typically only publish translations once they reach at least 1000 strings because before that point they aren't completely usable. You do not need to submit your translation to save your work. All changes are automatically saved to our servers.

Thank you for your efforts to make PhET sims available worldwide.

Sincerely,

PhET Help''

\textbf{Case 3:}
A translator creates a new English (en) translation.
		
		\begin{enumerate}
			\item Delete the translation.
			\item Email the translator the following:
		\end{enumerate}

``Dear translator,

I noticed that you recently started an English (en) translation of our website. Since our website is written in English, we will delete this translation. If you meant to create a translation in another language, please see http://phet.colorado.edu/en/for-translators/website for instructions.

Sincerely,

PhET Help''

\textbf{Case 4:}
A translator creates a copy of an existing translation that is being worked on.

Email the translator the following:

``Dear Translator,

I've noticed that you recently started an Arabic (ar) translation of our website and wanted to check in with you to see if you have any questions about the process.  Please let me know if you have any questions about how this works and of course please read the full instructions page prior to starting your translation:

http://phet.colorado.edu/en/for-translators/website

As I'm sure you've realized at this point translating the website is not a small task.  We estimate it will probably take about 50 - 100 hours to fully make a website translation. Because of this, and because we will only provide one public translation per language, we encourage translators to collaborate on a translation for their language.  We want translators to work together to move any partial translations to one "master" translation as only one translation will go public.

Since there are already multiple Arabic (ar) translations being worked on, I would encourage you to send a request to collaborate on the translation by clicking "request to collaborate". This will allow you to send an email to the translators with your email address, so they can contact you about collaboration.

Thank you for your efforts to make PhET sims available worldwide.

Sincerely,
PhET Help''

\textbf{Case 5:}
A translator submits a translation of a language we don't have.

		\begin{enumerate}
			\item Check to see how many translated strings the translation has.
			\item If the number of translated strings is greater than 1000, then email the developer and ask them to publish the translation.
			\item Otherwise, email the translator the following:
		\end{enumerate}

``Dear translator,

I see that your translation currently has 636 strings translated. We typically only publish translations once they reach at least 1000 strings because before that point they aren't completely usable.

There is no need to submit your translation to save your progress. Your translation work is automatically saved when any changes are made.

Do you feel that your translation is complete enough to be published to the PhET website?

Sincerely,

PhET Help''

\pagebreak

% SECTION 6: MAINTENENCE & MANAGEMENT

\section{Maintenance \& Management}

As the QA team lead, you will often need to maintain and manage various things related to testing.

	\subsection{Testing Matrix Management}\label{subsec:matrix}

Every time we do a release candidate test, you have to make a testing matrix. To do so, follow these steps:

		\begin{enumerate}
			\item If the simulation hasn't undergone an RC test, then you'll need to create a new testing matrix. You can do so \href{https://drive.google.com/drive/folders/0B6CMwxdP0NGYbW9fTGNCODdYVjQ}{here}. Make a copy of the correct testing matrix.
			\item Create a new tab in the existing spreadsheet for the simulation for the RC test.
			\item Copy and paste URLs into the testing matrix.
			\item Do the ``Yes'' or ``No'' for Legends of Learning, Keyboard Navigation. and Screen Reader.
			\item Edit the URLs in the GitHub issue.
		\end{enumerate}

	\subsection{PhET Test Maintenance}

\href{http://phettest.colorado.edu/}{PhET Test} is a computer with files on it. As of 2018-05-10, the computer is Turing\footnote{Turing is connected to the internet via an ethernet cable. You must be connected to the internet via UCB Wireless or via a virtual private network (VPN).}\footnote{The sticky note on Turing has its internet protocol (IP) address and its media access control (MAC) address.}, a MacBook Pro. PhET Test is used to check master. (Master is the main branch of the software development tree.) PhET Test has caching issues, so always use a private window when accessing PhET Test. If you see something like "failed to pull," then look through Turing's terminal to see if you can find the culprit. Every time a new repository is made, press the ``Refresh Perennial'' button. (Perennial is the list of simulations.) PhETMarks is another website that contains everything in master. Press the "Pull All" button every 5 hours.

Here is a list of helpful commands:

		\begin{itemize}
			\item \verb|$ pm2 stop index-server.js|
			\item \verb|$ pm2 start index-server.js|
			\item \verb|$ pm2 logs|
		\end{itemize}

	\subsection{Website Administration}\label{subsec:wa}
	
First and foremost, do not delete English versions of simulations! There are three servers:

		\begin{enumerate}
			\item \href{ox-dev.colorado.edu}{Ox-Dev}: This is the development server. It's kind of like a playground. You can do whatever you want to the website on this server.
			
				\begin{itemize}
					\item Ox-Dev has to be manually synced with the website. (This is not something that you will have to do.)
					\item Because Ox-Dev has to be manually synced with the website, it might be missing certain things.
					\item Accounts created on Ox-Dev are deleted when Ox-Dev gets synced with the website, so make as many accounts as you'd like.
				\end{itemize}
			
			\item \href{bayes.colorado.edu}{Bayes}: This server has multiple functions. It is the disaster recovery server and it does Continuous Testing, among other things.

			\item \href{phet.colorado.edu}{Figaro}: This server is also known as phet-server. This is the server on which \href{phet.colorado.edu}{www.phet.colorado.edu} runs.
			
		\end{enumerate}

To get to the administrative page of the website, sign in and click the ``Administration'' link.

		\begin{itemize}
			\item ``Help Center'' is where helpful information that we post on the website is added, removed, or edited.
			\item ``Edit Content Page'' is where English strings for the website and the simulations can be edited.
			\item ``Team Page'' is where team members and their descriptions can be added, removed, or edited.
			\item ``Asks Data Page'' is to be ignored.
			\item ``Simulations'' is where flavors, projects, and simulations are listed. Do not click the remove link! Once a simulation is published, ask the relevant designer(s) to fill in the flavor information for that simulation. Each flavor has a checkbox for visibility. Do not check this checkbox without permission from the relevant designer(s).
			\item ``Projects'' is the same thing as the list of projects in ``Simulations.''
			\item ``Categories'' is to be ignored.
			\item ``Activities'' is a comprehensive list of activities. It also contains activities that are pending approval.
				\begin{itemize}
					\item To test ``Activities,'' make all sorts of different files to submit, and submit them. If you aren't logged in as a team member or if you aren't an administrator, then you shouldn't be able to see the activities you've submitted. Make sure this is the case. Make sure you can download and use all activities.
					\item If you are testing ``Activities'' and you are logged in as a team member, then you should see the red box. If you are testing ``Activities'' and you are not logged in, you should not see the red box.
				\end{itemize}
			\item ``Notifications'' is a list of notifications for updated activities.
			\item ``Users'' is where user accounts can be added, removed, or edited.
			\item ``Metadata'' is to be ignored.
			\item ``Translations'' is for translations.
			\item ``FAQs'' is to be ignored.
			\item ``Strings'' is to be ignored.
			\item ``Caches and Search Index'' is to be ignored.
			\item ``Statistics'' is where we record useful statistics.
			\item ``Documentation and Help'' is to be ignored.
			\item ``Schools'' is where our list of schools maintained.
			\item ``Organizations'' is where our list of organizations is maintained.
		\end{itemize}

	\subsection{Assets Screenshots}

When we are getting ready to publish a simulation to the website, we need to take screenshots of the simulation for the website. We have a bizarre process for taking screenshots.

		\begin{enumerate}
			\item You have to take these screenshots on an iOS 9 device.
			\item You need to have at least 2 tabs open.
			\item Typically, we don't take more than 3 screenshots. (Get some variety. Don't show correct answers.)
			\item Email or AirDrop and on in Preview.
			\item Crop to 2048x1342.
			\item Tools > Adjust Size > Scale proportionally checkbox unchecked.
			\item Resize to 2048x1344.
			\item Rename each image to simulation-name-screenshot.png.
			\item Go to the simulation repository, assets.
			\item Upload screenshots.
		\end{enumerate}

\end{document}
